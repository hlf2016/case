<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>简易倒计时</title>
</head>
<style >
    #main{width:700px;height:130px;margin:20px auto;padding:10px;text-align:center;border:1px solid red;}
    img{margin:3px;}
    #main input{width:80px;height:30px;font-size:16px;text-align:right;}
    #main input.button{width:80px;font-size:16px;text-align:center;margin-left:10px;}
    #main p{height:40px;width:700px;background:#000;color:#fff;font-weight:bold;}
</style>
<script type="text/javascript" language="JavaScript">
    var t;
        
    function starttime(){
        var timeyear = document.getElementById("timeyear").value;
		var timemonth = document.getElementById("timemonth").value;
		var timeday = document.getElementById("timeday").value;
		var timehour = document.getElementById("timehour").value;
		var timemin = document.getElementById("timemin").value;
		var timesec = document.getElementById("timesec").value;
		t=new Date(timeyear,timemonth-1,timeday,timehour,timemin,timesec);//月份要减1，0表示1月，1表示2月
       if(t>new Date()){
            window.setInterval("timedesc()",1000);
       }else{
	       alert('设置时间必须大于当前时间');
	   }

    }
    function timedesc(){
	    var sec = 1000;
        var min = sec *60;
        var hour = min*60;
        var day = hour*24;
        var dt = new Date();
		var dif = t-dt;
        
        //判断是否大于一天
        if(dif>=day){
            nday = document.getElementById('day');
			nday.innerHTML=sethtml(Math.floor(dif/day));
            dif=dif-Math.floor(dif/day)*day;
        }else{
            nday = document.getElementById('day');
            nday.innerHTML=sethtml(0);
        }
        //判断是否大于1小时
        if(dif>=hour){
            nhour = document.getElementById('hour');
            nhour.innerHTML=sethtml(Math.floor(dif/hour));
            dif=dif-Math.floor(dif/hour)*hour;
        }else{
            nhour = document.getElementById('hour');
            nhour.innerHTML=sethtml(0);
        }
        //判断是否大于1分钟
        if(dif>=min){
            nmin = document.getElementById('minuter');
            nmin.innerHTML=sethtml(Math.floor(dif/min));
            dif=dif-Math.floor(dif/min)*min;
        }else{
            nmin = document.getElementById('minuter');
            nmin.innerHTML=sethtml(0);
        }
        //判断是否大于秒
        if(dif>=sec){
            nsec = document.getElementById('count');
            nsec.innerHTML=sethtml(Math.floor(dif/sec));
            
        }else{
            nsec = document.getElementById('count');
            nsec.innerHTML=sethtml(0);
        }
      
    }
    function sethtml(n){
        var i = 0;
        var szhtml = '';
		if(n==0){
            szhtml = '<img src="img/0.gif">'+szhtml;
        }
        while(n>0){
            var l = Math.floor(n%10);
            if(n>=10){
                n = Math.floor(n/10);
            }else{
                n = -1;
            }
            szhtml = '<img src="img/'+l+'.gif">'+szhtml;
            i++;
        }
        if(i<2){
            szhtml = '<img src="img/0.gif">'+szhtml;
        }
        return szhtml;
    }


</script>
<body>
 <div id="main">
     <input type="text"  id="timeyear">年 <input type="text"  id="timemonth">月 <input type="text"  id="timeday">日
	 <input type="text"  id="timehour">时<input type="text"  id="timemin">分<input type="text"  id="timesec">秒<input type="button" class="button" value="计时开始" onclick="starttime()">
    <p>还剩<span id="day"><img src="img/0.gif"><img src="img/0.gif"></span>天<span id="hour"></span>小时<span id="minuter"><img src="img/0.gif"><img src="img/0.gif"></span>分钟<span id="count"><img src="img/0.gif"><img src="img/0.gif"></span>秒</p>
 </div>
</body>

</html>